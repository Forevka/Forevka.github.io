<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>Forevka's Portfolios</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="It's first version of my portfolio site"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><style data-vue-ssr-id="317c4da3:0 fa7ff0ca:0 5c346d62:0 5c346d62:1 5b682217:0 5b682217:1 4cd5d89c:0 4cd5d89c:1 a0b08c50:0 a0b08c50:1 b99183ce:0 b99183ce:1 b99183ce:2 3b1d82f8:0 3b1d82f8:1 3b1d82f8:2 8a20346e:0 8a20346e:1">.glide{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.glide *{-webkit-box-sizing:inherit;box-sizing:inherit}.glide__slides,.glide__track{overflow:hidden}.glide__slides{position:relative;width:100%;list-style:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-ms-touch-action:pan-Y;touch-action:pan-Y;padding:0;white-space:nowrap;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;will-change:transform}.glide__slide,.glide__slides--dragging{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.glide__slide{width:100%;height:100%;-ms-flex-negative:0;flex-shrink:0;white-space:normal;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}.glide__slide a{-webkit-user-drag:none}.glide__arrows,.glide__bullets,.glide__slide a{-webkit-user-select:none;user-select:none;-moz-user-select:none;-ms-user-select:none}.glide__arrows,.glide__bullets{-webkit-touch-callout:none}.glide--rtl{direction:rtl}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}*,:after,:before{box-sizing:border-box;font-family:Alata,sans-serif;font-size:17px}body{margin:0}.default__main{color:#282828;margin:0;padding:0;scroll-behavior:smooth}.section__container{min-height:10vh;margin-top:4rem}.section__container .section__title{color:#d65d0e;margin-bottom:0;font-size:1.5em}.particle,.particle-container{z-index:-2}.particle{position:absolute;border-radius:50%}@-webkit-keyframes particle-animation-1{to{transform:translate3d(78vw,59vh,9px)}}@keyframes particle-animation-1{to{transform:translate3d(78vw,59vh,9px)}}.particle:first-child{-webkit-animation:particle-animation-1 60s infinite;animation:particle-animation-1 60s infinite;opacity:.46;height:6px;width:6px;-webkit-animation-delay:-.2s;animation-delay:-.2s;transform:translate3d(6vw,85vh,43px);background:#d92680}@-webkit-keyframes particle-animation-2{to{transform:translate3d(19vw,77vh,32px)}}@keyframes particle-animation-2{to{transform:translate3d(19vw,77vh,32px)}}.particle:nth-child(2){-webkit-animation:particle-animation-2 60s infinite;animation:particle-animation-2 60s infinite;opacity:.5;height:10px;width:10px;-webkit-animation-delay:-.4s;animation-delay:-.4s;transform:translate3d(86vw,13vh,20px);background:#d9b526}@-webkit-keyframes particle-animation-3{to{transform:translate3d(53vw,3vh,17px)}}@keyframes particle-animation-3{to{transform:translate3d(53vw,3vh,17px)}}.particle:nth-child(3){-webkit-animation:particle-animation-3 60s infinite;animation:particle-animation-3 60s infinite;opacity:.13;height:10px;width:10px;-webkit-animation-delay:-.6s;animation-delay:-.6s;transform:translate3d(51vw,4vh,79px);background:#d9b826}@-webkit-keyframes particle-animation-4{to{transform:translate3d(70vw,5vh,2px)}}@keyframes particle-animation-4{to{transform:translate3d(70vw,5vh,2px)}}.particle:nth-child(4){-webkit-animation:particle-animation-4 60s infinite;animation:particle-animation-4 60s infinite;opacity:.2;height:7px;width:7px;-webkit-animation-delay:-.8s;animation-delay:-.8s;transform:translate3d(33vw,66vh,39px);background:#d97126}@-webkit-keyframes particle-animation-5{to{transform:translate3d(1vw,52vh,41px)}}@keyframes particle-animation-5{to{transform:translate3d(1vw,52vh,41px)}}.particle:nth-child(5){-webkit-animation:particle-animation-5 60s infinite;animation:particle-animation-5 60s infinite;opacity:.31;height:10px;width:10px;-webkit-animation-delay:-1s;animation-delay:-1s;transform:translate3d(16vw,54vh,13px);background:#d9af26}@-webkit-keyframes particle-animation-6{to{transform:translate3d(11vw,3vh,78px)}}@keyframes particle-animation-6{to{transform:translate3d(11vw,3vh,78px)}}.particle:nth-child(6){-webkit-animation:particle-animation-6 60s infinite;animation:particle-animation-6 60s infinite;opacity:.13;height:8px;width:8px;-webkit-animation-delay:-1.2s;animation-delay:-1.2s;transform:translate3d(16vw,26vh,65px);background:#6bd926}@-webkit-keyframes particle-animation-7{to{transform:translate3d(23vw,39vh,42px)}}@keyframes particle-animation-7{to{transform:translate3d(23vw,39vh,42px)}}.particle:nth-child(7){-webkit-animation:particle-animation-7 60s infinite;animation:particle-animation-7 60s infinite;opacity:.98;height:10px;width:10px;-webkit-animation-delay:-1.4s;animation-delay:-1.4s;transform:translate3d(41vw,15vh,23px);background:#5f26d9}@-webkit-keyframes particle-animation-8{to{transform:translate3d(76vw,69vh,96px)}}@keyframes particle-animation-8{to{transform:translate3d(76vw,69vh,96px)}}.particle:nth-child(8){-webkit-animation:particle-animation-8 60s infinite;animation:particle-animation-8 60s infinite;opacity:.19;height:7px;width:7px;-webkit-animation-delay:-1.6s;animation-delay:-1.6s;transform:translate3d(84vw,7vh,67px);background:#97d926}@-webkit-keyframes particle-animation-9{to{transform:translate3d(67vw,83vh,21px)}}@keyframes particle-animation-9{to{transform:translate3d(67vw,83vh,21px)}}.particle:nth-child(9){-webkit-animation:particle-animation-9 60s infinite;animation:particle-animation-9 60s infinite;opacity:.26;height:6px;width:6px;-webkit-animation-delay:-1.8s;animation-delay:-1.8s;transform:translate3d(25vw,77vh,58px);background:#269ad9}@-webkit-keyframes particle-animation-10{to{transform:translate3d(13vw,19vh,61px)}}@keyframes particle-animation-10{to{transform:translate3d(13vw,19vh,61px)}}.particle:nth-child(10){-webkit-animation:particle-animation-10 60s infinite;animation:particle-animation-10 60s infinite;opacity:.79;height:8px;width:8px;-webkit-animation-delay:-2s;animation-delay:-2s;transform:translate3d(8vw,55vh,65px);background:#d926af}@-webkit-keyframes particle-animation-11{to{transform:translate3d(79vw,57vh,12px)}}@keyframes particle-animation-11{to{transform:translate3d(79vw,57vh,12px)}}.particle:nth-child(11){-webkit-animation:particle-animation-11 60s infinite;animation:particle-animation-11 60s infinite;opacity:.18;height:9px;width:9px;-webkit-animation-delay:-2.2s;animation-delay:-2.2s;transform:translate3d(75vw,25vh,35px);background:#3526d9}@-webkit-keyframes particle-animation-12{to{transform:translate3d(70vw,71vh,37px)}}@keyframes particle-animation-12{to{transform:translate3d(70vw,71vh,37px)}}.particle:nth-child(12){-webkit-animation:particle-animation-12 60s infinite;animation:particle-animation-12 60s infinite;opacity:.25;height:10px;width:10px;-webkit-animation-delay:-2.4s;animation-delay:-2.4s;transform:translate3d(20vw,60vh,5px);background:#d93526}@-webkit-keyframes particle-animation-13{to{transform:translate3d(87vw,46vh,6px)}}@keyframes particle-animation-13{to{transform:translate3d(87vw,46vh,6px)}}.particle:nth-child(13){-webkit-animation:particle-animation-13 60s infinite;animation:particle-animation-13 60s infinite;opacity:.38;height:7px;width:7px;-webkit-animation-delay:-2.6s;animation-delay:-2.6s;transform:translate3d(69vw,83vh,16px);background:#91d926}@-webkit-keyframes particle-animation-14{to{transform:translate3d(50vw,17vh,76px)}}@keyframes particle-animation-14{to{transform:translate3d(50vw,17vh,76px)}}.particle:nth-child(14){-webkit-animation:particle-animation-14 60s infinite;animation:particle-animation-14 60s infinite;opacity:.99;height:6px;width:6px;-webkit-animation-delay:-2.8s;animation-delay:-2.8s;transform:translate3d(71vw,39vh,71px);background:#6b26d9}@-webkit-keyframes particle-animation-15{to{transform:translate3d(57vw,83vh,6px)}}@keyframes particle-animation-15{to{transform:translate3d(57vw,83vh,6px)}}.particle:nth-child(15){-webkit-animation:particle-animation-15 60s infinite;animation:particle-animation-15 60s infinite;opacity:.67;height:8px;width:8px;-webkit-animation-delay:-3s;animation-delay:-3s;transform:translate3d(71vw,13vh,43px);background:#267dd9}@-webkit-keyframes particle-animation-16{to{transform:translate3d(32vw,30vh,30px)}}@keyframes particle-animation-16{to{transform:translate3d(32vw,30vh,30px)}}.particle:nth-child(16){-webkit-animation:particle-animation-16 60s infinite;animation:particle-animation-16 60s infinite;opacity:.46;height:8px;width:8px;-webkit-animation-delay:-3.2s;animation-delay:-3.2s;transform:translate3d(47vw,26vh,55px);background:#26d93b}@-webkit-keyframes particle-animation-17{to{transform:translate3d(85vw,33vh,30px)}}@keyframes particle-animation-17{to{transform:translate3d(85vw,33vh,30px)}}.particle:nth-child(17){-webkit-animation:particle-animation-17 60s infinite;animation:particle-animation-17 60s infinite;opacity:.79;height:10px;width:10px;-webkit-animation-delay:-3.4s;animation-delay:-3.4s;transform:translate3d(1vw,90vh,97px);background:#26d9b5}@-webkit-keyframes particle-animation-18{to{transform:translate3d(55vw,47vh,5px)}}@keyframes particle-animation-18{to{transform:translate3d(55vw,47vh,5px)}}.particle:nth-child(18){-webkit-animation:particle-animation-18 60s infinite;animation:particle-animation-18 60s infinite;opacity:.06;height:10px;width:10px;-webkit-animation-delay:-3.6s;animation-delay:-3.6s;transform:translate3d(90vw,1vh,26px);background:#2629d9}@-webkit-keyframes particle-animation-19{to{transform:translate3d(23vw,18vh,67px)}}@keyframes particle-animation-19{to{transform:translate3d(23vw,18vh,67px)}}.particle:nth-child(19){-webkit-animation:particle-animation-19 60s infinite;animation:particle-animation-19 60s infinite;opacity:.57;height:6px;width:6px;-webkit-animation-delay:-3.8s;animation-delay:-3.8s;transform:translate3d(76vw,32vh,62px);background:#bb26d9}@-webkit-keyframes particle-animation-20{to{transform:translate3d(18vw,28vh,91px)}}@keyframes particle-animation-20{to{transform:translate3d(18vw,28vh,91px)}}.particle:nth-child(20){-webkit-animation:particle-animation-20 60s infinite;animation:particle-animation-20 60s infinite;opacity:.81;height:9px;width:9px;-webkit-animation-delay:-4s;animation-delay:-4s;transform:translate3d(28vw,58vh,65px);background:#b2d926}@-webkit-keyframes particle-animation-21{to{transform:translate3d(47vw,88vh,19px)}}@keyframes particle-animation-21{to{transform:translate3d(47vw,88vh,19px)}}.particle:nth-child(21){-webkit-animation:particle-animation-21 60s infinite;animation:particle-animation-21 60s infinite;opacity:.88;height:9px;width:9px;-webkit-animation-delay:-4.2s;animation-delay:-4.2s;transform:translate3d(37vw,56vh,5px);background:#26d97a}@-webkit-keyframes particle-animation-22{to{transform:translate3d(4vw,12vh,43px)}}@keyframes particle-animation-22{to{transform:translate3d(4vw,12vh,43px)}}.particle:nth-child(22){-webkit-animation:particle-animation-22 60s infinite;animation:particle-animation-22 60s infinite;opacity:.15;height:6px;width:6px;-webkit-animation-delay:-4.4s;animation-delay:-4.4s;transform:translate3d(18vw,35vh,75px);background:#88d926}@-webkit-keyframes particle-animation-23{to{transform:translate3d(42vw,34vh,47px)}}@keyframes particle-animation-23{to{transform:translate3d(42vw,34vh,47px)}}.particle:nth-child(23){-webkit-animation:particle-animation-23 60s infinite;animation:particle-animation-23 60s infinite;opacity:.08;height:7px;width:7px;-webkit-animation-delay:-4.6s;animation-delay:-4.6s;transform:translate3d(30vw,88vh,75px);background:#38d926}@-webkit-keyframes particle-animation-24{to{transform:translate3d(64vw,48vh,8px)}}@keyframes particle-animation-24{to{transform:translate3d(64vw,48vh,8px)}}.particle:nth-child(24){-webkit-animation:particle-animation-24 60s infinite;animation:particle-animation-24 60s infinite;opacity:.99;height:6px;width:6px;-webkit-animation-delay:-4.8s;animation-delay:-4.8s;transform:translate3d(16vw,3vh,35px);background:#77d926}@-webkit-keyframes particle-animation-25{to{transform:translate3d(52vw,63vh,11px)}}@keyframes particle-animation-25{to{transform:translate3d(52vw,63vh,11px)}}.particle:nth-child(25){-webkit-animation:particle-animation-25 60s infinite;animation:particle-animation-25 60s infinite;opacity:.12;height:7px;width:7px;-webkit-animation-delay:-5s;animation-delay:-5s;transform:translate3d(70vw,42vh,73px);background:#26d9a3}@-webkit-keyframes particle-animation-26{to{transform:translate3d(82vw,50vh,84px)}}@keyframes particle-animation-26{to{transform:translate3d(82vw,50vh,84px)}}.particle:nth-child(26){-webkit-animation:particle-animation-26 60s infinite;animation:particle-animation-26 60s infinite;opacity:.89;height:6px;width:6px;-webkit-animation-delay:-5.2s;animation-delay:-5.2s;transform:translate3d(14vw,47vh,64px);background:#6e26d9}@-webkit-keyframes particle-animation-27{to{transform:translate3d(64vw,59vh,55px)}}@keyframes particle-animation-27{to{transform:translate3d(64vw,59vh,55px)}}.particle:nth-child(27){-webkit-animation:particle-animation-27 60s infinite;animation:particle-animation-27 60s infinite;opacity:.45;height:9px;width:9px;-webkit-animation-delay:-5.4s;animation-delay:-5.4s;transform:translate3d(23vw,46vh,55px);background:#d9a026}@-webkit-keyframes particle-animation-28{to{transform:translate3d(89vw,55vh,36px)}}@keyframes particle-animation-28{to{transform:translate3d(89vw,55vh,36px)}}.particle:nth-child(28){-webkit-animation:particle-animation-28 60s infinite;animation:particle-animation-28 60s infinite;opacity:.37;height:9px;width:9px;-webkit-animation-delay:-5.6s;animation-delay:-5.6s;transform:translate3d(8vw,36vh,98px);background:#ca26d9}@-webkit-keyframes particle-animation-29{to{transform:translate3d(42vw,36vh,40px)}}@keyframes particle-animation-29{to{transform:translate3d(42vw,36vh,40px)}}.particle:nth-child(29){-webkit-animation:particle-animation-29 60s infinite;animation:particle-animation-29 60s infinite;opacity:.56;height:9px;width:9px;-webkit-animation-delay:-5.8s;animation-delay:-5.8s;transform:translate3d(42vw,78vh,2px);background:#d926d9}@-webkit-keyframes particle-animation-30{to{transform:translate3d(21vw,36vh,82px)}}@keyframes particle-animation-30{to{transform:translate3d(21vw,36vh,82px)}}.particle:nth-child(30){-webkit-animation:particle-animation-30 60s infinite;animation:particle-animation-30 60s infinite;opacity:.93;height:8px;width:8px;-webkit-animation-delay:-6s;animation-delay:-6s;transform:translate3d(21vw,35vh,87px);background:#26d92f}.footer{padding:.25rem .5rem;width:100%}.footer .footer__text{color:#fbf1c7;text-align:right;padding-right:5rem}body{background-color:#1d2021}[data-v-a088f560],[data-v-a088f560]:after,[data-v-a088f560]:before{box-sizing:border-box;font-family:Alata,sans-serif;font-size:17px}body[data-v-a088f560]{margin:0}.default__main[data-v-a088f560]{color:#282828;margin:0;padding:0;scroll-behavior:smooth}.section__container[data-v-a088f560]{min-height:10vh;margin-top:4rem}.section__container .section__title[data-v-a088f560]{color:#d65d0e;margin-bottom:0;font-size:1.5em}.header[data-v-a088f560]{margin-bottom:1rem;width:100%}.header .nav[data-v-a088f560]{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-evenly;padding:.5rem .25rem;width:inherit}.header .nav .nav__item[data-v-a088f560]{padding:.1rem .25rem;text-decoration:none;font-size:1.05em}*,:after,:before{box-sizing:border-box;font-family:Alata,sans-serif;font-size:17px}body{margin:0}.default__main{color:#282828;margin:0;padding:0;scroll-behavior:smooth}.section__container{min-height:10vh;margin-top:4rem}.section__container .section__title{color:#d65d0e;margin-bottom:0;font-size:1.5em}.text__link{color:#d65d0e;display:inline-block;text-decoration:none}.text__link:after{background:0 0;content:"";display:block;height:3px;transition:width .5s ease,background-color .5s ease;width:0}.text__link:active:after,.text__link:focus:after,.text__link:hover:after{background:#d65d0e;width:100%}[data-v-6814f5da],[data-v-6814f5da]:after,[data-v-6814f5da]:before{box-sizing:border-box;font-family:Alata,sans-serif;font-size:17px}body[data-v-6814f5da]{margin:0}.default__main[data-v-6814f5da]{color:#282828;margin:0;padding:0;scroll-behavior:smooth}.section__container[data-v-6814f5da]{min-height:10vh;margin-top:4rem}.section__container .section__title[data-v-6814f5da]{color:#d65d0e;margin-bottom:0;font-size:1.5em}.hero-nav[data-v-6814f5da]{z-index:-1;display:flex;justify-content:center;align-items:center;height:400px;min-height:105px;background-size:cover;background-position:50%;overflow:hidden}.hero-nav img[data-v-6814f5da]{width:auto;height:100%}.hero-nav .hero-nav__inner[data-v-6814f5da]{z-index:1}.hero-nav .hero-nav__inner h1[data-v-6814f5da]{text-align:justify;font-size:xxx-large}.hero-nav h1[data-v-6814f5da]{color:#efefef;font-size:5vw}[data-v-6814f5da],[data-v-6814f5da]:after,[data-v-6814f5da]:before{box-sizing:border-box;font-family:Alata,sans-serif;font-size:17px}body[data-v-6814f5da]{margin:0}.default__main[data-v-6814f5da]{color:#282828;margin:0;padding:0;scroll-behavior:smooth}.section__container[data-v-6814f5da]{min-height:10vh;margin-top:4rem}.section__container .section__title[data-v-6814f5da]{color:#d65d0e;margin-bottom:0;font-size:1.5em}article[data-v-6814f5da]{--color_ink:#282724;--padding:21px;--bg-color:#f5f8eb;--text-color:#0a643a;--accent-color:#a0bb2e;--font-family:"Montserrat";--font-display:"Montserrat";--border:2px;--color_headline:#aa8740}header .prescription[data-v-6814f5da]{display:flex;justify-content:space-between}header .c-heading[data-v-6814f5da]{font-family:"Frank Ruhl Libre",serif;font-weight:400;margin:0}header .c-heading--prim[data-v-6814f5da]{border-bottom:var(--border) solid var(--color_ink);color:var(--color_headline);font-size:2.5rem;line-height:.9;margin-bottom:.7rem;padding-bottom:1.5rem}@media screen and (min-width:35.625rem){header .c-heading--prim[data-v-6814f5da]{font-size:3rem}}header .c-heading--sec[data-v-6814f5da]{font-size:1.15rem}article[data-v-6814f5da]{margin:0;padding:0;scroll-behavior:smooth;max-width:75%;margin:0 auto;padding:var(--padding);color:var(--text-color);background:var(--bg-color);font-family:var(--font-family);line-height:2;font-size:21px}h2[data-v-6814f5da]{font-size:180%;transform:translateX(-5px);font-family:var(--font-display);margin-bottom:0}a[data-v-6814f5da]{color:var(--text-color)}p[data-v-6814f5da]{margin-bottom:2em}strong[data-v-6814f5da]{display:inline-block;transform:translateX(-5px);font-size:130%;line-height:1;font-family:var(--font-display)}strong[data-v-6814f5da]:before{content:"🎙️";margin-right:5px;margin-top:34px;display:inline-block}h2[data-v-6814f5da]:after{content:"";display:block;height:8px;background:var(--accent-color);max-width:55px;transform:skewX(-21deg) translateY(-13px);border-radius:3px}*,:after,:before{box-sizing:border-box;font-family:Alata,sans-serif;font-size:17px}body{margin:0}.default__main{color:#282828;margin:0;padding:0;scroll-behavior:smooth}.section__container{min-height:10vh;margin-top:4rem}.section__container .section__title{color:#d65d0e;margin-bottom:0;font-size:1.5em}img{display:block;margin-left:auto;margin-right:auto;width:95%;border-radius:10px}pre>code>*{font-family:"Source Code Pro"}.nuxt-content h2,.nuxt-content section>*{font-family:var(--font-display)}.nuxt-content h2{font-size:180%;transform:translateX(-5px);margin-bottom:0}.nuxt-content h1{font-weight:600}.nuxt-content a{color:var(--text-color)}.nuxt-content p{margin-bottom:2em}.nuxt-content strong{display:inline-block;transform:translateX(-5px);font-size:130%;line-height:1;font-family:var(--font-display)}.nuxt-content strong:before{content:"❗️❗️";margin-right:5px;margin-top:34px;display:inline-block}.nuxt-content h2:after{content:"";display:block;height:8px;background:var(--accent-color);max-width:55px;transform:skewX(-21deg) translateY(-13px);border-radius:3px}.blog-wrapper{display:grid;grid-template-columns:1fr 15em;max-width:100em;width:90%;margin:0 auto}[data-v-c1ce5968],[data-v-c1ce5968]:after,[data-v-c1ce5968]:before{box-sizing:border-box;font-family:Alata,sans-serif;font-size:17px}body[data-v-c1ce5968]{margin:0}.default__main[data-v-c1ce5968]{color:#282828;margin:0;padding:0;scroll-behavior:smooth}.section__container[data-v-c1ce5968]{min-height:10vh;margin-top:4rem}.section__container .section__title[data-v-c1ce5968]{color:#d65d0e;margin-bottom:0;font-size:1.5em}nav[data-v-c1ce5968]{position:-webkit-sticky;position:sticky;top:2rem;align-self:start}.section-nav li.active>a[data-v-c1ce5968]{color:#458588;font-weight:500}.section-nav[data-v-c1ce5968]{padding-left:0;border-left:1px solid #efefef;margin-top:2rem}.section-nav a[data-v-c1ce5968]{text-decoration:none;display:block;padding:.125rem 0;color:#ccc;transition:all 50ms ease-in-out}.section-nav a[data-v-c1ce5968]:focus,.section-nav a[data-v-c1ce5968]:hover{color:#db9921}ol[data-v-c1ce5968],ul[data-v-c1ce5968]{list-style:none;margin:0;padding:0}li[data-v-c1ce5968]{margin-left:1rem}li.toc2[data-v-c1ce5968]{margin-left:2rem}h1[data-v-c1ce5968]{font-weight:300}</style><link rel="preload" href="/_nuxt/static/1624397666/blog/aiogram-login-button/payload.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><main class="default__main"><header class="header" data-v-a088f560><nav class="nav" data-v-a088f560><a href="https://github.com/Forevka" hreflang="en" target="_blank" class="text__link nav__item" data-v-a088f560>
	GitHub
</a> <a href="/articles" hreflang="en" target="_self" class="text__link nav__item" data-v-a088f560>Blog</a> <a href="/" hreflang="en" target="_self" class="text__link nav__item" data-v-a088f560>Resume</a></nav></header> <div id="particle-container"><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div></div> <div class="blog-wrapper" data-v-6814f5da><article data-v-6814f5da><div class="uk-container" data-v-6814f5da><div class="uk-section" data-v-6814f5da><header data-v-6814f5da><div class="hero-nav" data-v-6814f5da><img src="/_nuxt/img/fastapi-aiogram.a4999bc.png" data-v-6814f5da> <div class="hero-nav__inner" data-v-6814f5da><div class="hero-nav__button" data-v-6814f5da></div></div></div> <h1 class="c-heading c-heading--prim" data-v-6814f5da></h1> <div class="prescription" data-v-6814f5da><b data-v-6814f5da>Time to read: 3 min read</b> <b data-v-6814f5da>Published on: June 22, 2021</b></div></header> <div class="nuxt-content" data-v-6814f5da data-v-6814f5da><section data-v-6814f5da data-v-6814f5da><h2 id="пример-login-button" data-v-6814f5da data-v-6814f5da><a href="#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-login-button" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Пример Login button</h2><p data-v-6814f5da data-v-6814f5da><a href="https://core.telegram.org/bots/api#loginurl" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>Login button</a></p><p data-v-6814f5da data-v-6814f5da>Приложение разбито на две составляющие <a href="https://github.com/Forevka/Aiogram.Login.Example/blob/main/bot.py" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>bot</a> и <a href="https://github.com/Forevka/Aiogram.Login.Example/blob/main/web.py" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>web</a></p><p data-v-6814f5da data-v-6814f5da>Читая эту статью вы должны ознакомиться с основами питона, здесь не будут разобраны тривиальные вопросы, например импорты в файлах и DI. Также я полагаю что вы уже ознакомились с фреймворками aiogram и fastapi которые были использованы в этом туториале.</p></section>
<section data-v-6814f5da data-v-6814f5da><h1 id="подготовка-перед-запуском" data-v-6814f5da data-v-6814f5da><a href="#%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%BE%D0%BC" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Подготовка перед запуском</h1><p data-v-6814f5da data-v-6814f5da>После получения токена от бота вам нужно пойти в настройки этого бота, кнопка "Bot Settings" и перейти в раздел "Domain". В этом разделе нужно задать адрес на котором будет размещен веб сервис - тоесть то, куда будет переходить пользователь по нажатию на кнопку с login url</p><section data-v-6814f5da data-v-6814f5da><h2 id="разбор-кода" data-v-6814f5da data-v-6814f5da><a href="#%D1%80%D0%B0%D0%B7%D0%B1%D0%BE%D1%80-%D0%BA%D0%BE%D0%B4%D0%B0" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Разбор кода</h2></section></section>
<section data-v-6814f5da data-v-6814f5da><h1 id="bot" data-v-6814f5da data-v-6814f5da><a href="#bot" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Bot</h1><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-python" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da><span class="token decorator annotation punctuation" data-v-6814f5da data-v-6814f5da>@dp<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>message</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>commands<span class="token operator" data-v-6814f5da data-v-6814f5da>=</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>{</span><span class="token string" data-v-6814f5da data-v-6814f5da>"login"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>}</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
<span class="token keyword" data-v-6814f5da data-v-6814f5da>async</span> <span class="token keyword" data-v-6814f5da data-v-6814f5da>def</span> <span class="token function" data-v-6814f5da data-v-6814f5da>cmd_login</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>message<span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> Message<span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span> <span class="token operator" data-v-6814f5da data-v-6814f5da>-</span><span class="token operator" data-v-6814f5da data-v-6814f5da>></span> <span class="token boolean" data-v-6814f5da data-v-6814f5da>None</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span>
    login_markup <span class="token operator" data-v-6814f5da data-v-6814f5da>=</span> InlineKeyboardMarkup<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token operator" data-v-6814f5da data-v-6814f5da>**</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>{</span>
        <span class="token string" data-v-6814f5da data-v-6814f5da>"inline_keyboard"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> <span class="token punctuation" data-v-6814f5da data-v-6814f5da>[</span>
            <span class="token punctuation" data-v-6814f5da data-v-6814f5da>[</span>
                InlineKeyboardButton<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token operator" data-v-6814f5da data-v-6814f5da>**</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>{</span>
                    <span class="token string" data-v-6814f5da data-v-6814f5da>"login_url"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> LoginUrl<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token operator" data-v-6814f5da data-v-6814f5da>**</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>{</span>
                        <span class="token string" data-v-6814f5da data-v-6814f5da>"url"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> <span class="token string-interpolation" data-v-6814f5da data-v-6814f5da><span class="token string" data-v-6814f5da data-v-6814f5da>f"</span><span class="token interpolation" data-v-6814f5da data-v-6814f5da><span class="token punctuation" data-v-6814f5da data-v-6814f5da>{</span>HOST_URL<span class="token punctuation" data-v-6814f5da data-v-6814f5da>}</span></span><span class="token string" data-v-6814f5da data-v-6814f5da>/auth"</span></span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span>
                    <span class="token punctuation" data-v-6814f5da data-v-6814f5da>}</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span>
                    <span class="token string" data-v-6814f5da data-v-6814f5da>"text"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> <span class="token string" data-v-6814f5da data-v-6814f5da>"login"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span>
                <span class="token punctuation" data-v-6814f5da data-v-6814f5da>}</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
            <span class="token punctuation" data-v-6814f5da data-v-6814f5da>]</span>
        <span class="token punctuation" data-v-6814f5da data-v-6814f5da>]</span>
    <span class="token punctuation" data-v-6814f5da data-v-6814f5da>}</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>

    <span class="token keyword" data-v-6814f5da data-v-6814f5da>await</span> message<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>answer<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token string" data-v-6814f5da data-v-6814f5da>"Here login button"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> reply_markup<span class="token operator" data-v-6814f5da data-v-6814f5da>=</span>login_markup<span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
</code></pre></div><p data-v-6814f5da data-v-6814f5da>Хендлер который реагирует на команду <code data-v-6814f5da data-v-6814f5da>/login</code>, он отправляет простое сообщение с кнопкой которая переадресовывает пользователя на ваш сайт.
Собственно со стороны бота это весь нужный нам код.</p></section>
<section data-v-6814f5da data-v-6814f5da><h1 id="web" data-v-6814f5da data-v-6814f5da><a href="#web" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Web</h1><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-python" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da><span class="token keyword" data-v-6814f5da data-v-6814f5da>def</span> <span class="token function" data-v-6814f5da data-v-6814f5da>check_user_data</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>data<span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> TelegramAuthModel<span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> token<span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span>
    secret <span class="token operator" data-v-6814f5da data-v-6814f5da>=</span> hashlib<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>sha256<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
    secret<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>update<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>token<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>encode<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token string" data-v-6814f5da data-v-6814f5da>'utf-8'</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
    sorted_params <span class="token operator" data-v-6814f5da data-v-6814f5da>=</span> collections<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>OrderedDict<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token builtin" data-v-6814f5da data-v-6814f5da>sorted</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>data<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span><span class="token builtin" data-v-6814f5da data-v-6814f5da>dict</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>items<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
    msg <span class="token operator" data-v-6814f5da data-v-6814f5da>=</span> <span class="token string" data-v-6814f5da data-v-6814f5da>"\n"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>join<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>[</span><span class="token string" data-v-6814f5da data-v-6814f5da>"{}={}"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span><span class="token builtin" data-v-6814f5da data-v-6814f5da>format</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>k<span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> v<span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
                    <span class="token keyword" data-v-6814f5da data-v-6814f5da>for</span> k<span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> v <span class="token keyword" data-v-6814f5da data-v-6814f5da>in</span> sorted_params<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>items<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span> <span class="token keyword" data-v-6814f5da data-v-6814f5da>if</span> k <span class="token operator" data-v-6814f5da data-v-6814f5da>!=</span> <span class="token string" data-v-6814f5da data-v-6814f5da>'hash'</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>]</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>

    <span class="token keyword" data-v-6814f5da data-v-6814f5da>return</span> data<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span><span class="token builtin" data-v-6814f5da data-v-6814f5da>hash</span> <span class="token operator" data-v-6814f5da data-v-6814f5da>==</span> hmac<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>new<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>secret<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>digest<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> msg<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>encode<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token string" data-v-6814f5da data-v-6814f5da>'utf-8'</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> digestmod<span class="token operator" data-v-6814f5da data-v-6814f5da>=</span>hashlib<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>sha256<span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>hexdigest<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>

</code></pre></div><p data-v-6814f5da data-v-6814f5da>Функция которая проводит валидацию данных переданных от пользователя. Это нужно для того что-бы убедиться что данные пришли действительно от телеграма и юзер их не придумал сам. Алгоритм можно найти <a href="https://core.telegram.org/widgets/login#checking-authorization" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>тут</a>, а начальный код был взят отсюда <a href="https://gist.github.com/JrooTJunior/887791de7273c9df5277d2b1ecadc839" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>JRootJunior</a> правда там есть баг, оставляю найти его и другие различия для читателя.</p><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-python" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da><span class="token keyword" data-v-6814f5da data-v-6814f5da>async</span> <span class="token keyword" data-v-6814f5da data-v-6814f5da>def</span> <span class="token function" data-v-6814f5da data-v-6814f5da>login_route</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>request<span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> Request<span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> user<span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> TelegramAuthModel <span class="token operator" data-v-6814f5da data-v-6814f5da>=</span> Depends<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span> <span class="token operator" data-v-6814f5da data-v-6814f5da>-</span><span class="token operator" data-v-6814f5da data-v-6814f5da>></span> Response<span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span>
    <span class="token keyword" data-v-6814f5da data-v-6814f5da>if</span> <span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>ENVIRONMENT<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>lower<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>strip<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span> <span class="token operator" data-v-6814f5da data-v-6814f5da>==</span> <span class="token string" data-v-6814f5da data-v-6814f5da>"production"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span>
        <span class="token keyword" data-v-6814f5da data-v-6814f5da>if</span> <span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token keyword" data-v-6814f5da data-v-6814f5da>not</span> check_user_data<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>user<span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> BOT_TOKEN<span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span>
            <span class="token keyword" data-v-6814f5da data-v-6814f5da>raise</span> HTTPException<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>status_code<span class="token operator" data-v-6814f5da data-v-6814f5da>=</span><span class="token number" data-v-6814f5da data-v-6814f5da>401</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> detail<span class="token operator" data-v-6814f5da data-v-6814f5da>=</span><span class="token string" data-v-6814f5da data-v-6814f5da>"Nice try hacker :D"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>

    user_from_database <span class="token operator" data-v-6814f5da data-v-6814f5da>=</span> FakeRepo<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>get_user<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>user<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span><span class="token builtin" data-v-6814f5da data-v-6814f5da>id</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>

    <span class="token keyword" data-v-6814f5da data-v-6814f5da>if</span> <span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>user_from_database<span class="token punctuation" data-v-6814f5da data-v-6814f5da>[</span><span class="token string" data-v-6814f5da data-v-6814f5da>"role_id"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>]</span> <span class="token operator" data-v-6814f5da data-v-6814f5da>==</span> <span class="token number" data-v-6814f5da data-v-6814f5da>2</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span>
        <span class="token keyword" data-v-6814f5da data-v-6814f5da>raise</span> HTTPException<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span>
            status_code<span class="token operator" data-v-6814f5da data-v-6814f5da>=</span><span class="token number" data-v-6814f5da data-v-6814f5da>401</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> detail<span class="token operator" data-v-6814f5da data-v-6814f5da>=</span><span class="token string" data-v-6814f5da data-v-6814f5da>"Sorry you don't have permission"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>

    <span class="token keyword" data-v-6814f5da data-v-6814f5da>return</span> templates<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span>TemplateResponse<span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token string" data-v-6814f5da data-v-6814f5da>"login.html"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span> <span class="token punctuation" data-v-6814f5da data-v-6814f5da>{</span>
        <span class="token string" data-v-6814f5da data-v-6814f5da>"request"</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>:</span> request<span class="token punctuation" data-v-6814f5da data-v-6814f5da>,</span>
        <span class="token operator" data-v-6814f5da data-v-6814f5da>**</span>user<span class="token punctuation" data-v-6814f5da data-v-6814f5da>.</span><span class="token builtin" data-v-6814f5da data-v-6814f5da>dict</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>(</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
    <span class="token punctuation" data-v-6814f5da data-v-6814f5da>}</span><span class="token punctuation" data-v-6814f5da data-v-6814f5da>)</span>
</code></pre></div><p data-v-6814f5da data-v-6814f5da>Самый интересный кусок кода, это функция которая выступает обработчиком роута для логина пользователя. Именно она будет вызвана после "нажатия" пользователем кнопки login.
Здесь я валидирую данные, проверяю его роль и на основе этого возвращаю ответ.
Предполагается что <code data-v-6814f5da data-v-6814f5da>FakeRepo</code> будет заменена на конкретную(другую) имплементацию общения с базой, здесь это выступает как пример алгоритма.</p><section data-v-6814f5da data-v-6814f5da><h2 id="config-env" data-v-6814f5da data-v-6814f5da><a href="#config-env" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Config .env</h2><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-text" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da>ENVIRONMENT = getenv("env", "debug")

BOT_TOKEN = getenv("bot_token", "Aa:123")
HOST_URL = getenv("host_url", "")
</code></pre></div><p data-v-6814f5da data-v-6814f5da>Тривиально, задаём токен от бота и хост на котором будут запускаться сервисы.
HOST_URL должен быть белым, тоесть доступным всем в интернете, адресом.</p></section><section data-v-6814f5da data-v-6814f5da><h2 id="как-это-запустить" data-v-6814f5da data-v-6814f5da><a href="#%D0%BA%D0%B0%D0%BA-%D1%8D%D1%82%D0%BE-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D1%82%D0%B8%D1%82%D1%8C" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Как это запустить?</h2><p data-v-6814f5da data-v-6814f5da>Бот работает в режиме <a href="https://core.telegram.org/bots/api#getupdates" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>long polling</a> и ему не нужен белый айпи в отличие от веб сервиса.</p></section></section>
<section data-v-6814f5da data-v-6814f5da><h1 id="ручной-запуск" data-v-6814f5da data-v-6814f5da><a href="#%D1%80%D1%83%D1%87%D0%BD%D0%BE%D0%B9-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Ручной запуск</h1><p data-v-6814f5da data-v-6814f5da>Установка зависимостей</p><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-shell" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da>pip <span class="token function" data-v-6814f5da data-v-6814f5da>install</span> -r requirements.txt
</code></pre></div><p data-v-6814f5da data-v-6814f5da>Bot, <strong data-v-6814f5da data-v-6814f5da>перед запуском проверьте переменные среды</strong></p><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-shell" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da>python bot.py
</code></pre></div><p data-v-6814f5da data-v-6814f5da>Web построен на fastapi и для него нужен uvicorn, <strong data-v-6814f5da data-v-6814f5da>перед запуском проверьте переменные среды</strong></p><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-shell" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da>uvicorn web:app --reload
</code></pre></div></section>
<section data-v-6814f5da data-v-6814f5da><h1 id="docker" data-v-6814f5da data-v-6814f5da><a href="#docker" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Docker</h1><p data-v-6814f5da data-v-6814f5da>Конфигурация написана в <a href="https://github.com/Forevka/Aiogram.Login.Example/blob/main/docker-compose.yml" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>компоуз файле</a>.</p><div class="nuxt-content-highlight" data-v-6814f5da data-v-6814f5da><pre class="line-numbers language-shell" data-v-6814f5da data-v-6814f5da><code data-v-6814f5da data-v-6814f5da>docker-compose up
</code></pre></div><p data-v-6814f5da data-v-6814f5da>Всё остальное произойдёт само.</p><section data-v-6814f5da data-v-6814f5da><h2 id="использование" data-v-6814f5da data-v-6814f5da><a href="#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Использование</h2><p data-v-6814f5da data-v-6814f5da>После запуска веб сервисе перейдите на <code data-v-6814f5da data-v-6814f5da>host_url</code>/docs - вы должны увидеть swagger документацию, пример ниже на скрине</p><p data-v-6814f5da data-v-6814f5da><img alt="swagger" src="https://github.com/Forevka/Aiogram.Login.Example/blob/main/imgs/swagger-ex.PNG?raw=true" data-v-6814f5da data-v-6814f5da></p><p data-v-6814f5da data-v-6814f5da>Если вы видите такое же на своём экране то скорее всего всё отлично!</p><p data-v-6814f5da data-v-6814f5da>После этого вы должны зайти в бота и отправить ему команду <code data-v-6814f5da data-v-6814f5da>/login</code> в ответ вы получите сообщение с кнопкой логина</p><p data-v-6814f5da data-v-6814f5da><img alt="login-button" src="https://github.com/Forevka/Aiogram.Login.Example/blob/main/imgs/login-ex.PNG?raw=true" data-v-6814f5da data-v-6814f5da></p><p data-v-6814f5da data-v-6814f5da>После нажатия на эту кнопку вы будете перенаправлены на <code data-v-6814f5da data-v-6814f5da>host_url</code>/auth и увидите данный экран</p><p data-v-6814f5da data-v-6814f5da><img alt="user" src="https://github.com/Forevka/Aiogram.Login.Example/blob/main/imgs/user-ex.PNG?raw=true" data-v-6814f5da data-v-6814f5da></p><p data-v-6814f5da data-v-6814f5da>Здесь будет та информация о пользователе которую предоставил вам телеграм. Весь набор полей <a href="https://github.com/Forevka/Aiogram.Login.Example/blob/main/models.py" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>можно найти в специальной моделе</a></p></section><section data-v-6814f5da data-v-6814f5da><h2 id="итог" data-v-6814f5da data-v-6814f5da><a href="#%D0%B8%D1%82%D0%BE%D0%B3" aria-hidden="true" tabindex="-1" data-v-6814f5da data-v-6814f5da><span class="icon icon-link" data-v-6814f5da data-v-6814f5da></span></a>Итог</h2><p data-v-6814f5da data-v-6814f5da>Здесь был реализован минимальный пример для работы с login button используя современные фреймворки <a href="https://github.com/aiogram/aiogram/tree/dev-3.x" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>aiogram v3</a> и <a href="https://fastapi.tiangolo.com/" rel="nofollow noopener noreferrer" target="_blank" data-v-6814f5da data-v-6814f5da>fast-api</a>
Безусловно это решение не является единственно верным и правильним, жду ваших PR если у вас есть замечания и предложения.</p></section></section></div></div></div> <section class="uk-section" data-v-6814f5da><div class="uk-container" data-v-6814f5da><h2 class="uk-text-bold" data-v-6814f5da>More stories</h2> <div data-uk-slider="velocity: 5" data-v-6814f5da><div class="uk-position-relative" data-v-6814f5da><div class="uk-slider-container" data-v-6814f5da><ul class="uk-slider-items uk-child-width-1-2@s uk-child-width-1-3@m uk-grid uk-grid-medium" data-v-6814f5da><li data-v-6814f5da><div class="uk-card uk-card-default uk-card-small" style="box-shadow:none" data-v-6814f5da><div data-v-6814f5da><a href="/blog/hello-world" data-v-6814f5da>
                      Hello World!
                        </a></div></div></li></ul></div></div></div></div></section></article> <nav class="section-nav" data-v-c1ce5968 data-v-6814f5da><ol data-v-c1ce5968></ol></nav></div> <footer class="footer"><p class="footer__text">
			Made by
			<a href="https://github.com/Forevka" hreflang="en" target="_blank" class="text__link">
	Forevka
</a></p></footer></main></div></div><script>window.__NUXT__={staticAssetsBase:"/_nuxt/static/1624397666",layout:"default",error:null,serverRendered:!0,routePath:"/blog/aiogram-login-button",config:{content:{dbHash:"1f1f0461"}}}</script><script src="/_nuxt/e7f8511.js" defer></script><script src="/_nuxt/657f01f.js" defer></script><script src="/_nuxt/812a1a1.js" defer></script><script src="/_nuxt/b8f8a69.js" defer></script><script src="/_nuxt/4720c73.js" defer></script><script src="/_nuxt/fc253c7.js" defer></script>
  </body>
</html>
